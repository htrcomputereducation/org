<!DOCTYPE html>
<html lang="hi">
<head>
  <meta charset="UTF-8">
  <title>‡§∞‡§ú‡§ø‡§∏‡•ç‡§ü‡§∞ - HTR Computer</title>
  <link rel="stylesheet" href="style.css">
  <style>
    .form-container {
      background-color: white;
      color: black;
      padding: 30px;
      border-radius: 10px;
      max-width: 500px;
      margin: 50px auto;
      box-shadow: 0 0 15px rgba(0,0,0,0.3);
    }
    .form-container h2 {
      text-align: center;
      color: #008060;
    }
    .form-container input,
    .form-container select,
    .form-container button {
      width: 100%;
      padding: 10px;
      margin-top: 10px;
      border-radius: 5px;
    }
    .form-container button {
      background-color: #008060;
      color: white;
      border: none;
      cursor: pointer;
    }
    #output {
      margin-top: 15px;
      font-weight: bold;
      text-align: center;
      color: green;
    }
    iframe {
      display: none; /* Google Form iframe ‡§õ‡•Å‡§™‡§æ ‡§π‡•à */
    }
  </style>
</head>
<body>
  <header>
    <img src="logo/logo.png" class="logo" alt="HTR Logo">
    <nav>
      <a href="index.html">Home</a>
      <a href="about.html">About</a>
      <a href="control.html">Contact</a>
      <a href="register.html">Register</a>
      <a href="login.html">Login</a>
    </nav>
  </header>
<iframe src="https://docs.google.com/forms/d/e/1FAIpQLSc_O8hvKz18qieiUhn5r6Jb-31e1tPoX2uZ-yJKMHpObGcHjQ/viewform?embedded=true" width="640" height="2001" frameborder="0" marginheight="0" marginwidth="0">Loading‚Ä¶</iframe>
  <div class="form-container">
    <h2>‡§ë‡§®‡§≤‡§æ‡§á‡§® ‡§∞‡§ú‡§ø‡§∏‡•ç‡§ü‡•ç‡§∞‡•á‡§∂‡§® ‡§´‡•â‡§∞‡•ç‡§Æ</h2>
    <form id="registerForm">
      <input type="text" id="name" placeholder="‡§™‡•Ç‡§∞‡§æ ‡§®‡§æ‡§Æ" required>
      <input type="email" id="email" placeholder="‡§à‡§Æ‡•á‡§≤" required>
      <input type="tel" id="mobile" placeholder="‡§Æ‡•ã‡§¨‡§æ‡§á‡§≤ ‡§®‡§Ç‡§¨‡§∞" required>
      <select id="course" required>
        <option value="">‡§ï‡•ã‡§∞‡•ç‡§∏ ‡§ö‡•Å‡§®‡•á‡§Ç</option>
        <option>ADCA</option>
        <option>DCA</option>
        <option>CCC</option>
      </select>
      <button type="submit">‡§∞‡§ú‡§ø‡§∏‡•ç‡§ü‡§∞ ‡§ï‡§∞‡•á‡§Ç</button>
    </form>
    <p id="output"></p>
  </div>

  <!-- Hidden iframe Google Form (will open in new tab for actual submission) -->
  <iframe id="formFrame" src="https://docs.google.com/forms/d/e/1FAIpQLSeVGmr1f7SkTfTwIxMN-SyRRRSX9OXYlDn1INgBdkkg63qvSg/viewform?embedded=true"></iframe>

  <script>
    const form = document.getElementById('registerForm');
    const output = document.getElementById('output');

    form.addEventListener('submit', function(e) {
      e.preventDefault();

      const name = document.getElementById('name').value.trim();
      const email = document.getElementById('email').value.trim();
      const mobile = document.getElementById('mobile').value.trim();
      const course = document.getElementById('course').value;

      // Auto ID & Password Generate
      const studentId = 'HTR' + Math.floor(1000 + Math.random() * 9000);
      const password = Math.random().toString(36).slice(-6);

      // Save to localStorage
      localStorage.setItem('studentId', studentId);
      localStorage.setItem('password', password);
      localStorage.setItem('studentName', name);

      // Show confirmation
      output.innerHTML = `
        <b>‡§∞‡§ú‡§ø‡§∏‡•ç‡§ü‡•ç‡§∞‡•á‡§∂‡§® ‡§∏‡§´‡§≤!</b><br>
        ‡§Ü‡§™‡§ï‡•Ä ‡§Ü‡§à‡§°‡•Ä: <b>${studentId}</b><br>
        ‡§™‡§æ‡§∏‡§µ‡§∞‡•ç‡§°: <b>${password}</b><br><br>
        <a href="login.html">‡§Ö‡§¨ ‡§≤‡•â‡§ó‡§ø‡§® ‡§ï‡§∞‡•á‡§Ç</a>
      `;

      // üéØ Redirect user to Google Form with prefilled data
      const gFormURL = `https://docs.google.com/forms/d/e/1FAIpQLSeVGmr1f7SkTfTwIxMN-SyRRRSX9OXYlDn1INgBdkkg63qvSg/viewform?usp=pp_url&entry.1234567890=${encodeURIComponent(name)}&entry.2345678901=${encodeURIComponent(email)}&entry.3456789012=${encodeURIComponent(mobile)}&entry.4567890123=${encodeURIComponent(course)}`;
      window.open(gFormURL, '_blank');

      form.reset();
    });
  </script>
</body>
</html>
